# 1.安装包管理软件 Scoop

## 1.0 尝试无代理下载

### 打开 powershell

### 输入更改策略代码

```shell
set-executionpolicy remotesigned -scope currentuser
执行策略更改

执行策略可帮助你防止执行不信任的脚本。更改执行策略可能会产生安全风险，如 https:/go.microsoft.com/fwlink/?LinkID=135170
中的 about_Execution_Policies 帮助主题所述。是否要更改执行策略?
[Y] 是(Y)  [A] 全是(A)  [N] 否(N)  [L] 全否(L)  [S] 暂停(S)  [?] 帮助 (默认值为“N”): Y
```

### 将 Scoop 安装到自定义目录(命令行方式)

```shell
$env:SCOOP='D:\Applications\Scoop'
[Environment]::SetEnvironmentVariable('SCOOP', $env:SCOOP, 'User')
```

\# 安装

```shell
iex (new-object net.webclient).downloadstring('https://get.scoop.sh')
```

\# 报错：

```shell
使用“1”个参数调用“DownloadString”时发生异常:“未能解析此远程名称: 'raw.githubusercontent.com'”
>所在位置 行:1 字符: 1
+ iex (new-object net.webclient).downloadstring('https://get.scoop.sh')
+   >~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (:) [], MethodInvocationException
    + FullyQualifiedErrorId : WebException
```

实际测试网页  
发现地址重定向到<https://raw.githubusercontent.com/lukesampson/scoop/master/bin/install.ps1>  

尝试替换网址

```shell
iex(new-objectnet.webclient).downloadstring('https://raw.githubusercontent.com/lukesampson/scoop/master/bin/install.ps1')
```

失败，依旧提示无法解析，尝试先下载科学上网工具

## 1.1 下载配置梯子

### 下载代理客户端 clash for windows

\# jiyoucloud 裂开了  
\# 重新找了个代理服务器  
网址<https://portal.shadowsocks.nz/index.php>，20美元1年，约142RMB

## 1.2 尝试重新安装 scoop

\# 重复之前 powershell 代码，重新安装 scoop 成功

### 将 Scoop 配置为将全局程序安装到自定义目录 SCOOP_GLOBAL(命令行方式)

```shell
$env:SCOOP_GLOBAL='D:\GlobalScoopApps'
[Environment]::SetEnvironmentVariable('SCOOP_GLOBAL', $env:SCOOP_GLOBAL, 'Machine')
```

### 安装 git

```shell
scoop install git
```

### 添加 extras 仓库

```shell
scoop bucket add extras
```

### 搜索官方维护的仓库

```shell
scoop bucket known
```

### 添加官方仓库

```shell
scoop update
scoop bucket add versions jetbrains
```

### 配置aria2多线程下载

```shell
scoop install aria2
scoop config aria2-enabled true # default: true
scoop config aria2-retry-wait 5 # default: 2
scoop config aria2-split 5      # default: 5
scoop config aria2-max-connection-per-server 10   # default: 5
scoop config aria2-min-split-size] 2M   # default: 5M
```
